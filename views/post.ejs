<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Post</title>

    <!-- Bootstrap CSS -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >
</head>

<body class="bg-light">

    <div class="container mt-5" style="max-width: 650px;">

        <h1 class="text-center mb-4">Post Details</h1>

        <!-- Error Message -->
        <% if (error_message && error_message !== "") { %>
            <div class="alert alert-danger">
                <%= error_message %>
            </div>
        <% } %>

        <% if (post) { %>

        <!-- Post Card -->
        <div class="card p-4 shadow-sm mb-4">

            <!-- Title -->
            <h3 class="mb-2"><%= post.caption %></h3>

            <!-- Content -->
            <p class="mb-3"><%= post.content %></p>

            <!-- Contact Method -->
            <p class="mb-1">
                <strong>Contact:</strong> <%= post.contact_method %>
            </p>

            <!-- Location -->
            <p class="mb-1">
                <strong>Location:</strong> 
                <%= post.city %>, <%= post.state %>
            </p>

            <!-- Group Tag (optional) -->
            <% if (post.group_name) { %>
                <p class="text-info mb-2">
                    Group: <%= post.group_name %>
                </p>
            <% } %>

            <!-- Posted By -->
            <p class="text-muted" style="font-size: 0.9rem;">
                Posted by <strong><%= post.username %></strong>  
                on <%= new Date(post.created_at).toLocaleString() %>
            </p>

            <!-- Save Post -->
            <form action="/posts/<%= post.post_id %>/save" method="POST" class="mt-2">
                <button class="btn btn-success w-100">Save Post</button>
            </form>

            <!-- Unsave Post -->
            <form action="/posts/<%= post.post_id %>/unsave" method="POST" class="mt-2">
                <button class="btn btn-danger w-100">Unsave Post</button>
            </form>

            <!-- View Poster Profile -->
            <a 
                href="/profile/<%= post.poster_id %>" 
                class="btn btn-outline-primary w-100 mt-3">
                View User Profile
            </a>

        </div>

        <% } %>

        <!-- Navigation Buttons -->
        <a href="/" class="btn btn-secondary w-100 mt-3">
            Back to Home
        </a>

    </div>

    <!-- Bootstrap JS -->
    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js">
    </script>

</body>
</html>
